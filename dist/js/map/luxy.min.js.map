{"version":3,"file":"luxy.min.js","names":["t","e","define","amd","exports","_typeof","module","luxy","wrapper","targets","wrapperSpeed","targetSpeed","targetPercentage","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","i","cancelAnimationFrame","mozCancelAnimationFrame","s","arguments","length","hasOwnProperty","r","Targets","TargetsLength","windowHeight","wapperOffset","prototype","isAnimate","isResize","scrollId","resizeId","init","settings","document","querySelector","querySelectorAll","body","style","height","clientHeight","attachEvent","apply","animate","resize","wrapperInit","targetsLength","offset","getAttribute","speedX","speedY","percentage","horizontal","targetsInit","width","position","push","elm","top","left","scroll","documentElement","scrollTop","wrapperUpdate","targetsUpdate","bind","transform","Math","round","Number","parseInt","innerHeight","addEventListener","setTimeout"],"sources":["luxy.min.js"],"sourcesContent":["/*! luxy.js v0.1.0 | (c) 2018 Mineo Okuda | MIT License | git+ssh://git@github.com:min30327/luxy.js.git */\n!(function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?module.exports=e():t.luxy=e()})(this,(function(){\"use strict\";var t={wrapper:\"#luxy\",targets:\".luxy-el\",wrapperSpeed:.08,targetSpeed:.02,targetPercentage:.1},e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e;var i=window.cancelAnimationFrame||window.mozCancelAnimationFrame,s=function(){for(var t={},e=0,i=arguments.length;e<i;e++){var s=arguments[e];!(function(e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(s)}return t},r=function(){this.Targets=[],this.TargetsLength=0,this.wrapper=\"\",this.windowHeight=0,this.wapperOffset=0};return r.prototype={isAnimate:!1,isResize:!1,scrollId:\"\",resizeId:\"\",init:function(e){if(this.settings=s(t,e||{}),this.wrapper=document.querySelector(this.settings.wrapper),\"undefined\"===this.wrapper)return!1;this.targets=document.querySelectorAll(this.settings.targets),document.body.style.height=this.wrapper.clientHeight+\"px\",this.windowHeight=window.clientHeight,this.attachEvent(),this.apply(this.targets,this.wrapper),this.animate(),this.resize()},apply:function(t,e){this.wrapperInit(),this.targetsLength=t.length;for(var i=0;i<this.targetsLength;i++){var s={offset:t[i].getAttribute(\"data-offset\"),speedX:t[i].getAttribute(\"data-speed-x\"),speedY:t[i].getAttribute(\"data-speed-Y\"),percentage:t[i].getAttribute(\"data-percentage\"),horizontal:t[i].getAttribute(\"data-horizontal\")};this.targetsInit(t[i],s)}},wrapperInit:function(){this.wrapper.style.width=\"100%\",this.wrapper.style.position=\"fixed\"},targetsInit:function(t,e){this.Targets.push({elm:t,offset:e.offset?e.offset:0,horizontal:e.horizontal?e.horizontal:0,top:0,left:0,speedX:e.speedX?e.speedX:1,speedY:e.speedY?e.speedY:1,percentage:e.percentage?e.percentage:0})},scroll:function(){document.documentElement.scrollTop||document.body.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;this.scrollTop,this.windowHeight;this.wrapperUpdate(this.scrollTop);for(var t=0;t<this.Targets.length;t++)this.targetsUpdate(this.Targets[t])},animate:function(){this.scroll(),this.scrollId=e(this.animate.bind(this))},wrapperUpdate:function(){this.wapperOffset+=(this.scrollTop-this.wapperOffset)*this.settings.wrapperSpeed,this.wrapper.style.transform=\"translate3d(0,\"+Math.round(100*-this.wapperOffset)/100+\"px ,0)\"},targetsUpdate:function(t){t.top+=(this.scrollTop*Number(this.settings.targetSpeed)*Number(t.speedY)-t.top)*this.settings.targetPercentage,t.left+=(this.scrollTop*Number(this.settings.targetSpeed)*Number(t.speedX)-t.left)*this.settings.targetPercentage;var e=parseInt(t.percentage)-t.top-parseInt(t.offset),i=Math.round(-100*e)/100,s=0;if(t.horizontal){var r=parseInt(t.percentage)-t.left-parseInt(t.offset);s=Math.round(-100*r)/100}t.elm.style.transform=\"translate3d(\"+s+\"px ,\"+i+\"px ,0)\"},resize:function(){var t=this;t.windowHeight=window.innerHeight||document.documentElement.clientHeight||0,parseInt(t.wrapper.clientHeight)!=parseInt(document.body.style.height)&&(document.body.style.height=t.wrapper.clientHeight+\"px\"),t.resizeId=e(t.resize.bind(t))},attachEvent:function(){var t=this;window.addEventListener(\"resize\",(function(){t.isResize||(i(t.resizeId),i(t.scrollId),t.isResize=!0,setTimeout((function(){t.isResize=!1,t.resizeId=e(t.resize.bind(t)),t.scrollId=e(t.animate.bind(t))}),200))}))}},new r}));"],"mappings":"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"}